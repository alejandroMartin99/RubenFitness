<div class="water-card-expanded" [class.completed]="waterPercentage >= 100">
  <!-- Header -->
  <div class="water-header">
    <div class="water-message" [title]="motivationalMessage">
      {{ motivationalMessage }}
    </div>
  </div>

  <!-- Main Content: Bottle + Chart -->
  <div class="water-content">
    <!-- Left: Water Bottle -->
    <div class="water-bottle-section">
      <div class="bottle-container">
        <!-- Bottle Cap -->
        <div class="bottle-cap"></div>
        <!-- Bottle Body -->
        <div class="bottle-body">
          <div class="bottle-fill" [style.height.%]="waterPercentage"></div>
          <!-- Measurement marks (subtle, inside) -->
          <div class="bottle-marks">
            <div *ngFor="let mark of [1,2,3,4,5,6,7,8,9,10]" class="bottle-mark"></div>
          </div>
        </div>
      </div>
      <div class="bottle-info">
        <div class="bottle-value">{{ (waterDrunk / 1000).toFixed(1) }}L</div>
        <div class="bottle-goal">de {{ (waterGoal / 1000).toFixed(1) }}L</div>
      </div>
      <button mat-raised-button color="primary" class="add-water-btn" (click)="addWater()" [disabled]="loading">
        <mat-icon>add</mat-icon>
        +200ml
      </button>
    </div>

    <!-- Right: Chart -->
    <div class="water-chart-section">
      <div class="chart-container">
        <canvas #waterChart></canvas>
        <div class="chart-loading-overlay" *ngIf="loading">
          <mat-spinner diameter="24"></mat-spinner>
        </div>
      </div>
    </div>
  </div>
</div>

