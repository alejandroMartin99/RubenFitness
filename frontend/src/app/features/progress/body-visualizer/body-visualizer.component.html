<div class="muscle-card">
  <!-- Header con controles -->
  <div class="card-header">
    <span class="title">Músculos</span>
    <div class="view-btns">
      <button [class.active]="currentView === 'front'" (click)="setView('front')">
        Frontal
      </button>
      <button [class.active]="currentView === 'back'" (click)="setView('back')">
        Posterior
      </button>
    </div>
  </div>

  <!-- Contenedor del modelo -->
  <div class="model-container">
    <!-- Vista Frontal -->
    <div class="model-view" [class.visible]="currentView === 'front'">
      <div class="muscle-map front">
        <!-- Hombros -->
        <div class="muscle shoulder-l" [class.active]="isActive('shoulders')"></div>
        <div class="muscle shoulder-r" [class.active]="isActive('shoulders')"></div>
        <!-- Pecho -->
        <div class="muscle chest-l" [class.active]="isActive('chest')"></div>
        <div class="muscle chest-r" [class.active]="isActive('chest')"></div>
        <!-- Bíceps -->
        <div class="muscle biceps-l" [class.active]="isActive('biceps')"></div>
        <div class="muscle biceps-r" [class.active]="isActive('biceps')"></div>
        <!-- Antebrazos -->
        <div class="muscle forearm-l" [class.active]="isActive('forearms')"></div>
        <div class="muscle forearm-r" [class.active]="isActive('forearms')"></div>
        <!-- Abdominales -->
        <div class="muscle abs" [class.active]="isActive('abs')"></div>
        <!-- Oblicuos -->
        <div class="muscle oblique-l" [class.active]="isActive('obliques')"></div>
        <div class="muscle oblique-r" [class.active]="isActive('obliques')"></div>
        <!-- Cuádriceps -->
        <div class="muscle quad-l" [class.active]="isActive('quadriceps')"></div>
        <div class="muscle quad-r" [class.active]="isActive('quadriceps')"></div>
        <!-- Tibiales -->
        <div class="muscle calf-l" [class.active]="isActive('calves')"></div>
        <div class="muscle calf-r" [class.active]="isActive('calves')"></div>
      </div>
    </div>

    <!-- Vista Posterior -->
    <div class="model-view" [class.visible]="currentView === 'back'">
      <div class="muscle-map back">
        <!-- Trapecio/Espalda alta -->
        <div class="muscle traps" [class.active]="isActive('back')"></div>
        <!-- Hombros posteriores -->
        <div class="muscle rear-delt-l" [class.active]="isActive('shoulders')"></div>
        <div class="muscle rear-delt-r" [class.active]="isActive('shoulders')"></div>
        <!-- Dorsales -->
        <div class="muscle lat-l" [class.active]="isActive('back')"></div>
        <div class="muscle lat-r" [class.active]="isActive('back')"></div>
        <!-- Espalda baja -->
        <div class="muscle lower-back" [class.active]="isActive('back')"></div>
        <!-- Tríceps -->
        <div class="muscle triceps-l" [class.active]="isActive('triceps')"></div>
        <div class="muscle triceps-r" [class.active]="isActive('triceps')"></div>
        <!-- Glúteos -->
        <div class="muscle glute-l" [class.active]="isActive('glutes')"></div>
        <div class="muscle glute-r" [class.active]="isActive('glutes')"></div>
        <!-- Isquiotibiales -->
        <div class="muscle ham-l" [class.active]="isActive('hamstrings')"></div>
        <div class="muscle ham-r" [class.active]="isActive('hamstrings')"></div>
        <!-- Gemelos -->
        <div class="muscle calf-back-l" [class.active]="isActive('calves')"></div>
        <div class="muscle calf-back-r" [class.active]="isActive('calves')"></div>
      </div>
    </div>
  </div>

  <!-- Lista de músculos activos -->
  <div class="active-list" *ngIf="activeMuscles.size > 0">
    <span class="chip" *ngFor="let name of getActiveMuscleNames()">{{ name }}</span>
  </div>
  
  <div class="empty-state" *ngIf="activeMuscles.size === 0">
    Selecciona un tipo de entrenamiento
  </div>
</div>
